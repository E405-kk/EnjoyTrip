import{h as I,b as a,c as l,e,t as r,i as h,g as E,j as k,x as S,y as C,z as A,r as c,o as T,u as V,K as D,k as N,m as P,v as L,n as O,L as R,F as j,p as B,S as K,f as $}from"./index-BWaCr9_N.js";import{l as M}from"./notice-B16u_sLm.js";import{_ as F}from"./VSelect-OShSSaR7.js";import{_ as U}from"./PageNavigation-DaPBi4z-.js";const z={class:"border-b border-blue-gray-200"},Z={class:"py-3 px-4"},H={class:"py-3 px-4"},Q={class:"py-3 px-4"},q={class:"py-3 px-4"},Y={class:"py-3 px-4"},G={__name:"NoticeListItem",props:{article:Object},setup(s){return(p,m)=>{const i=I("router-link");return a(),l("tr",z,[e("td",Z,r(s.article.articleNo),1),e("td",H,[h(i,{to:{name:"notice-view",params:{articleno:s.article.articleNo}},class:"article-title link-dark"},{default:E(()=>[k(r(s.article.subject),1)]),_:1},8,["to"])]),e("td",Q,r(s.article.userId),1),e("td",q,r(s.article.hit),1),e("td",Y,r(s.article.registerTime),1)])}}};var J={VITE_OPEN_API_SERVICE_KEY:"tSOC+TAwUD96Av30HSXD4Sy4Oo/6wkDzPHwtj+DQq/oH+hSIDB1fDJZ1kDvq7QccD2MNB/f0U3As6nbTex+FoQ==",VITE_KAKAO_MAP_SERVICE_KEY:"d234049397979f6f3e7cf5e308e8acea",VITE_VUE_API_URL:"http://localhost:",VITE_SEND_BIRD_APP_ID:"048C350C-CE27-4FFF-82CC-A79585913428",VITE_ARTICLE_LIST_SIZE:"9",VITE_ARTICLE_NAVIGATION_SIZE:"10",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const W={class:"fluid-container mb-20"},X={class:"row justify-content-center"},ee={class:"flex items-center justify-center"},te={class:"ml-40 mr-auto"},se={class:"mr-40 ml-auto"},oe={class:"flex items-center max-w-md mx-auto bg-white rounded-lg","x-data":"{ search: '' }"},ae={class:"w-full"},le=["disabled"],ne=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),re=[ne],ce={key:0,class:"text-center text-xl my-10"},ie={key:1},de={class:"fluid-container mx-40 my-10"},ue={class:"overflow-x-auto"},_e={class:"min-w-full bg-white shadow-md rounded-xl"},me=e("thead",null,[e("tr",{class:"bg-emerald-100 text-gray-700"},[e("th",{class:"py-3 px-4 text-left"},"글번호"),e("th",{class:"py-3 px-4 text-left"},"제목"),e("th",{class:"py-3 px-4 text-left"},"작성자"),e("th",{class:"py-3 px-4 text-left"},"조회수"),e("th",{class:"py-3 px-4 text-left"},"작성일")])],-1),he={class:"text-blue-gray-900"},ge={__name:"NoticeList",setup(s){const p=S(),{userInfo:m}=C(p),i=A(),x=c([{text:"검색 조건",value:""},{text:"글번호",value:"article_no"},{text:"제목",value:"subject"},{text:"작성자아이디",value:"user_id"}]),d=c([]),u=c(1),f=c(0),{VITE_ARTICLE_LIST_SIZE:g}=J,o=c({pgno:u.value,spp:g,key:"",word:""});T(()=>{n()});const y=t=>{o.value.key=t},n=()=>{M(o.value,({data:t})=>{d.value=t.articles,console.log(d.value),u.value=t.currentPage,f.value=t.totalPageCount},t=>{console.log(t)})},w=t=>{u.value=t,o.value.pgno=t,n()},b=()=>{m.value.userId?i.push({name:"notice-write"}):(K.fire("로그인이 필요한 페이지입니다!"),i.push({name:"user-login"}))};return(t,v)=>(a(),l("div",W,[e("div",X,[e("div",ee,[e("div",te,[V(m).isAdmin==1?(a(),l("button",{key:0,type:"button",onClick:b,class:"bg-white text-emerald-600 font-semibold py-2 px-4 border border-emerald-600 rounded-md shadow-md hover:bg-emerald-600 hover:text-white focus:outline-none focus:ring-2 focus:ring-emerald-600 focus:ring-opacity-50"}," 글쓰기 ")):D("",!0)]),e("div",se,[e("form",{class:"flex",onSubmit:N(n,["prevent"])},[h(F,{selectOption:x.value,onOnKeySelect:y},null,8,["selectOption"]),e("div",oe,[e("div",ae,[P(e("input",{type:"search",class:"w-full px-4 py-1 text-gray-800 rounded-full focus:outline-none",placeholder:"search",onKeyup:O(n,["enter"]),"x-model":"search","onUpdate:modelValue":v[0]||(v[0]=_=>o.value.word=_)},null,544),[[L,o.value.word]])]),e("div",null,[e("button",{type:"button",class:R(["flex items-center bg-emerald-500 justify-center w-12 h-12 text-white rounded-r-lg",o.value.word.length>0?"bg-emerald-500":"bg-gray-500 cursor-not-allowed"]),disabled:o.value.word.length==0,onClick:n},re,10,le)])])],32)])]),d.value.length===0?(a(),l("div",ce," 작성된 글이 없습니다. ")):(a(),l("div",ie,[e("div",de,[e("div",ue,[e("table",_e,[me,e("tbody",he,[(a(!0),l(j,null,B(d.value,_=>(a(),$(G,{key:_.articleNo,article:_},null,8,["article"]))),128))])])])]),h(U,{"current-page":u.value,"total-page":f.value,onPageChange:w},null,8,["current-page","total-page"])]))])]))}};export{ge as default};
