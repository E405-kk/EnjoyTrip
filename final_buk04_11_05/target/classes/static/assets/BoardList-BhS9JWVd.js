import{h as w,b as a,c as i,e,t as n,i as m,g as b,j as I,H as E,x as S,r as c,o as k,k as C,m as A,v as T,n as D,L as V,F as P,p as L,S as O,f as B}from"./index-CmhezA2U.js";import{l as N}from"./board-DkxEk9Zx.js";import{_ as R}from"./VSelect-DXTZcpdn.js";import{_ as j}from"./PageNavigation-tD9agCXi.js";const $={class:"border-b border-blue-gray-200"},K={class:"py-3 px-4"},M={class:"py-3 px-4"},F={class:"py-3 px-4"},U={class:"py-3 px-4"},H={class:"py-3 px-4"},Z={__name:"BoardListItem",props:{article:Object},setup(s){return(_,h)=>{const l=w("router-link");return a(),i("tr",$,[e("td",K,n(s.article.articleNo),1),e("td",M,[m(l,{to:{name:"article-view",params:{articleno:s.article.articleNo}},class:"article-title link-dark"},{default:b(()=>[I(n(s.article.subject),1)]),_:1},8,["to"])]),e("td",F,n(s.article.userId),1),e("td",U,n(s.article.hit),1),e("td",H,n(s.article.registerTime),1)])}}};var z={VITE_OPEN_API_SERVICE_KEY:"tSOC+TAwUD96Av30HSXD4Sy4Oo/6wkDzPHwtj+DQq/oH+hSIDB1fDJZ1kDvq7QccD2MNB/f0U3As6nbTex+FoQ==",VITE_KAKAO_MAP_SERVICE_KEY:"d234049397979f6f3e7cf5e308e8acea",VITE_VUE_API_URL:"http://localhost:",VITE_SEND_BIRD_APP_ID:"048C350C-CE27-4FFF-82CC-A79585913428",VITE_ARTICLE_LIST_SIZE:"9",VITE_ARTICLE_NAVIGATION_SIZE:"10",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Q={class:"fluid-container mb-20"},q={class:"row justify-content-center"},Y={class:"flex items-center justify-center"},G={class:"mr-40 ml-auto"},J={class:"flex items-center max-w-md mx-auto bg-white rounded-lg","x-data":"{ search: '' }"},W={class:"w-full"},X=["disabled"],ee=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),te=[ee],se={key:0,class:"text-center text-xl my-10"},oe={key:1},ae={class:"fluid-container mx-40 my-10"},le={class:"overflow-x-auto"},re={class:"min-w-full bg-white shadow-md rounded-xl"},ne=e("thead",null,[e("tr",{class:"bg-emerald-100 text-gray-700"},[e("th",{class:"py-3 px-4 text-left"},"글번호"),e("th",{class:"py-3 px-4 text-left"},"제목"),e("th",{class:"py-3 px-4 text-left"},"작성자"),e("th",{class:"py-3 px-4 text-left"},"조회수"),e("th",{class:"py-3 px-4 text-left"},"작성일")])],-1),ce={class:"text-blue-gray-900"},me={__name:"BoardList",setup(s){E();const _=S(),h=c([{text:"검색 조건",value:""},{text:"글번호",value:"article_no"},{text:"제목",value:"subject"},{text:"작성자아이디",value:"user_id"}]),l=c([]),d=c(1),p=c(0),{VITE_ARTICLE_LIST_SIZE:x}=z,o=c({pgno:d.value,spp:x,key:"",word:""});k(()=>{r()});const v=t=>{o.value.key=t},r=()=>{N(o.value,({data:t})=>{l.value=t.articles,d.value=t.currentPage,p.value=t.totalPageCount},t=>{console.log(t)})},g=t=>{d.value=t,o.value.pgno=t,r()},y=()=>{sessionStorage.getItem("userId")?_.push({name:"article-write"}):(O.fire("로그인이 필요한 페이지입니다!"),_.push({name:"user-login"}))};return(t,f)=>(a(),i("div",Q,[e("div",q,[e("div",Y,[e("div",{class:"ml-40 mr-auto"},[e("button",{type:"button",onClick:y,class:"bg-white text-emerald-600 font-semibold py-2 px-4 border border-emerald-600 rounded-md shadow-md hover:bg-emerald-600 hover:text-white focus:outline-none focus:ring-2 focus:ring-emerald-600 focus:ring-opacity-50"}," 글쓰기 ")]),e("div",G,[e("form",{class:"flex",onSubmit:C(r,["prevent"])},[m(R,{selectOption:h.value,onOnKeySelect:v},null,8,["selectOption"]),e("div",J,[e("div",W,[A(e("input",{type:"search",class:"w-full px-4 py-1 text-gray-800 rounded-full focus:outline-none",placeholder:"search",onKeyup:D(r,["enter"]),"x-model":"search","onUpdate:modelValue":f[0]||(f[0]=u=>o.value.word=u)},null,544),[[T,o.value.word]])]),e("div",null,[e("button",{type:"button",class:V(["flex items-center bg-emerald-500 justify-center w-12 h-12 text-white rounded-r-lg",o.value.word.length>0?"bg-emerald-500":"bg-gray-500 cursor-not-allowed"]),disabled:o.value.word.length==0,onClick:r},te,10,X)])])],32)])]),l.value.length===0?(a(),i("div",se," 작성된 글이 없습니다. ")):(a(),i("div",oe,[e("div",ae,[e("div",le,[e("table",re,[ne,e("tbody",ce,[(a(!0),i(P,null,L(l.value,u=>(a(),B(Z,{key:u.articleNo,article:u},null,8,["article"]))),128))])])])]),m(j,{"current-page":d.value,"total-page":p.value,onPageChange:g},null,8,["current-page","total-page"])]))])]))}};export{me as default};
