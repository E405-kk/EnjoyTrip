import{N as C,x as B,r as f,o as j,c as n,e as t,i as F,u as m,F as b,K as i,S as h,b as a}from"./index-CmhezA2U.js";import{d as S,c as T,u as A,a as G}from"./hotplace-DA5ra_re.js";import{_ as N}from"./VArticle-3rM-Qc7_.js";const L={class:"container mx-auto p-5"},V={class:"flex justify-center"},K=["src"],M={class:"w-full lg:w-10/12 text-start bg-white shadow-md rounded-lg p-5"},R=t("div",{class:"border-t my-3"},null,-1),z={class:"flex justify-between mt-10"},D={class:"flex"},H=t("i",{class:"fas fa-heart text-lg leading-none"},null,-1),J=[H],O=t("i",{class:"fas fa-heart text-lg leading-none"},null,-1),U=[O],q={class:"flex"},E=t("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css",integrity:"sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w==",crossorigin:"anonymous"},null,-1),W={__name:"HotplaceDetail",setup(Z){const c=sessionStorage.getItem("userId"),x=C(),p=B(),{articleno:d}=x.params,o=f({}),s=f(!1),r=f({userId:c,articleNo:d,check:""});j(()=>{y(),_()});const y=()=>{S(d,({data:e})=>{o.value=e},e=>{console.log(e)})},_=()=>{T(r.value,({data:e})=>{s.value=e},e=>{console.log(e)})},g=()=>{s.value?r.value.check="":r.value.check="plus",console.log(r.value),A(r.value,()=>{s.value=!s.value},e=>{console.log(e)})};function v(){p.push({name:"hotplace-list"})}function k(){p.push({name:"hotplace-modify",params:{articleno:d}})}function w(){h.fire({title:"게시글을 삭제하시겠습니까?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#848484",confirmButtonText:"삭제",cancelButtonText:"취소"}).then(e=>{e.isConfirmed&&G(d,l=>{let u=l.data;l.status==200?(u="게시글이 삭제되었습니다.",h.fire({title:"삭제",text:u,icon:"success"}),v()):h.fire({icon:"error",text:u})},l=>{console.log(l)})})}function I(){if(o.value.fileInfo==null)return null;if(o.value.fileInfo.saveFile){var e="/src/assets/upload/";return e+=o.value.fileInfo.saveFolder+"/"+o.value.fileInfo.saveFile,e}else return"/src/assets/about-bg.jpg"}return(e,l)=>(a(),n(b,null,[t("div",L,[t("div",V,[t("img",{src:I(),class:"max-w-full h-auto",style:{width:"40%","max-width":"40%",height:"auto"}},null,8,K),t("div",M,[F(N,{article:o.value},null,8,["article"]),R,t("div",z,[t("div",D,[t("button",{type:"button",class:"bg-gray-100 text-gray-700 font-semibold py-2 px-4 mr-3 border border-gray-300 rounded-md shadow-sm hover:bg-gray-200 hover:text-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:ring-opacity-50",onClick:v}," 글목록 "),m(c)?(a(),n(b,{key:0},[s.value?(a(),n("button",{key:0,onClick:g,class:"middle none center mr-3 flex items-center justify-center rounded-lg bg-gradient-to-tr from-pink-600 to-pink-400 p-3 font-sans text-xs font-bold uppercase text-white shadow-md shadow-pink-500/20 transition-all hover:shadow-lg hover:shadow-pink-500/40 active:opacity-[0.85] disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none","data-ripple-light":"true"},J)):i("",!0),s.value?i("",!0):(a(),n("button",{key:1,onClick:g,class:"middle none center mr-3 flex items-center justify-center rounded-lg border border-pink-500 p-3 font-sans text-xs font-bold uppercase text-pink-500 transition-all hover:opacity-75 focus:ring focus:ring-pink-200 active:opacity-[0.85] disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none","data-ripple-dark":"true"},U))],64)):i("",!0)]),t("div",q,[m(c)===o.value.userId?(a(),n("button",{key:0,type:"button",class:"mr-3 bg-emerald-100 text-emerald-700 font-semibold py-2 px-4 border border-emerald-300 rounded-md shadow-sm hover:bg-emerald-200 hover:text-emerald-800 focus:outline-none focus:ring-2 focus:ring-emerald-300 focus:ring-opacity-50",onClick:k}," 글수정 ")):i("",!0),m(c)===o.value.userId?(a(),n("button",{key:1,type:"button",class:"bg-red-100 text-red-700 font-semibold py-2 px-4 border border-red-300 rounded-md shadow-sm hover:bg-red-200 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-300 focus:ring-opacity-50",onClick:w}," 글삭제 ")):i("",!0)])])])])]),E],64))}};export{W as default};
